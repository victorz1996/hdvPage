<div class="accordion" id="accordionFlushExample">
  <div *ngFor="let estudio of estudios" class="accordion-item">
    <h2 class="accordion-header" [attr.id]="'flush-heading' + estudio.id">
      <button
        class="accordion-button collapsed"
        type="button"
        data-bs-toggle="collapse"
        [attr.data-bs-target]="'#flush-collapse' + estudio.id"
        aria-expanded="false"
        [attr.aria-controls]="'flush-collapse' + estudio.id"
      >
        {{ estudio.nombre }}
      </button>
    </h2>
    <div
      [attr.id]="'flush-collapse' + estudio.id"
      class="accordion-collapse collapse"
      [attr.aria-labelledby]="'flush-heading' + estudio.id"
      data-bs-parent="#accordionFlushExample"
    >
      <div class="accordion-body">
        <div class="row">
          <div class="col-sm-10">
            <h5>{{ estudio.titulo }}</h5>
            <span>
              {{ estudio.escuela }}
            </span>
            <p>{{ estudio.ciudad }} - {{ estudio.departamento }}</p>
            <p>{{ estudio.anioInicio }} - {{ estudio.anioFin }}</p>
          </div>
          <div class="col-sm-2">
            <button
              [disabled]="!estudio.soporteUrl.length"
              (click)="open(content)"
              class="btn btn-primary float-right"
            >
              <fa-icon [icon]="faEye"></fa-icon> Soporte
            </button>
          </div>
        </div>
      </div>
    </div>
    <div>
      <ng-template #content let-modal>
        <div class="modal-header">
          <button
            type="button"
            class="close"
            aria-label="Close"
            (click)="modal.dismiss()"
          >
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <app-soportes [soporteUrl]="estudio.soporteUrl"></app-soportes>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" (click)="modal.close()">
            Volver
          </button>
        </div>
      </ng-template>
    </div>
  </div>
</div>
